/* ==UserStyle==
@name           Télécom Sud Paris
@namespace      github.com/paris-ci/stylus
@version        2.0.0
@description    Styles pour TSP
@author         Arthur Jovart
@license        LGPL
@var color background-color "Couleur d'arriere plan" #000226
@var color background-accent-color "Couleur d'accentuation arriere plan" #2C2E4C

@var color text-color "Couleur du texte" #BBBCC9
@var color accent-color "Couleur d'accentuation texte" #E8E9ED
@var text non-hover-opacity "Diminution de la luminosité sur certains elements brillants (pct)" 40%
@var text hover-opacity "Diminution de la luminosité sur certains elements brillants avec souris par dessus (pct)" 90%
==/UserStyle== */
@-moz-document domain("trombi.imtbs-tsp.eu") {
    #contenu,
    body,
    #bas {
        background: none;
        background-color: var(--background-color);
    }

    #haut {
        filter: brightness(var(--non-hover-opacity));
    }

    #haut:hover {
        filter: brightness(var(--hover-opacity));
    }


    form {
        background-color: var(--background-accent-color) !important;
    }

    label,
    p {
        color: var(--text-color);
    }

    .disabled {
        color: var(--text-color);
        filter: brightness(80%);
    }
}

@-moz-document domain("cas.imtbs-tsp.eu") {
    body {
        background-color: var(--background-color);
    }

    #content h2,
    label,
    .accesskey {
        color: var(--text-color);
    }

    #content {
        background-color: var(--background-accent-color);
        min-height: 0px;
    }

    header {
        filter: brightness(var(--non-hover-opacity));
    }

    header:hover {
        filter: brightness(var(--hover-opacity));
    }

    a {
        color: var(--accent-color);
    }

    #sidebar {
        display: none;
    }

    #msg {
        filter: brightness(var(--non-hover-opacity));
    }

    #msg:hover {
        filter: brightness(var(--hover-opacity));
    }
}

@-moz-document domain("moodle.imtbs-tsp.eu"),
domain("moodle2019.imtbs-tsp.eu"),
domain("moodle2018.imtbs-tsp.eu"),
domain("moodle2017.imtbs-tsp.eu"),
domain("moodle2016.tem-tsp.eu") {
    body {
        color: var(--text-color) !important;
        background-color: var(--background-color) !important;
    }

    .nav,
    .navbar-bootswatch,
    .nav-item,
    .navbar-brand,
    .nav.fixed-top,
    .dropdown-toggle.nav-link,
    .navbar-bootswatch .navbar-nav .nav-link {
        background-color: var(--background-color) !important;
        color: var(--text-color) !important;
    }

    .navbar-bootswatch a,
    .navbar-bootswatch .navbar-nav .nav-link:hover {
        background-color: var(--background-color) !important;
        color: var(--text-color) !important;
    }

    .card-body,
    .section,
    #multi_section_tiles,
    .format-tiles .course-content .section .activity:hover {
        background-color: var(--background-accent-color) !important;
        color: var(--text-color) !important;
    }

    #content h2,
    label,
    a,
    .accesskey {
        color: var(--text-color) !important;
    }

    #content {
        background-color: var(--background-accent-color) !important;
        min-height: 0px !important;
    }

    .card,
    #region-main,
    #page {
        color: var(--text-color) !important;
        background-color: var(--background-accent-color) !important;
        min-height: 0px !important;
    }

    .form-control {
        background-color: var(--text-color) !important;
    }

    .card-body li {
        background-color: var(--background-accent-color) !important;
    }

    section.block h5 {
        background-color: var(--background-accent-color) !important;
        color: var(--accent-color) !important;
    }

    .bg-pulse-grey {
        background-color: var(--background-color) !important;
    }

    .courseimage {
        filter: brightness(var(--non-hover-opacity)) !important;
    }

    .courseimage:hover {
        filter: brightness(var(--hover-opacity)) !important;
    }
	
	.generaltable {
		color: unset;
	}
	
	.tab-content {
		background-color: transparent !important;
	}
	
	h1, h2, h3, h4, h5, h6, h5.h6.mt-3,
	.list-group-item, .course-summaryitem {
		background-color: transparent !important;
	}
	
	.h6.text-danger {
		color: red !important;
	}
	
	.list-group-item-action:hover {
		background-color: var(--background-color) !important;
	}
	
	td {
		color: var(--accent-color) !important;
		background-color: var(--background-color) !important;
	}
	
	:hover {
		color: var(--accent-color) !important;
	}

    a {
        color: var(--accent-color) !important;
    }
}

@-moz-document domain("z.imt.fr") {

    /* 
     * Ouais, c'est very moche, mais ca marche very bien. 
     * C'est pas forcément le plus joli mais ca, je suis pas designer. Faut en vouloir au CSS de zimbra, c'est de la belle merde. 
     */
    .logo,
    #ZLoginNotice {
        display: none;
    }

    .form hr {
        border-color: transparent transparent var(--background-color);
    }

    body {
        background-color: var(--background-color) !important;
    }

    td {
        color: var(--accent-color) !important;
    }
    div,
    table,
    tbody,
    td,
    input {
        color: var(--text-color) !important;
        background-color: var(--background-color) !important;
        border-bottom-width: 0;
        font-weight: normal;
    }


    #modifiedLogin {
        background: var(--background-color) !important;
    }

    #zLoginForm,
    .versionBlock {
        background-color: var(--background-accent-color);
    }

    label {
        color: var(--accent-color) !important;
    }
}

@-moz-document domain("ecampus.imtbs-tsp.eu") {
    #portalPageHeader {
        filter: brightness(var(--non-hover-opacity));
    }

    #portalPageHeader:hover {
        filter: brightness(var(--hover-opacity));
    }

    #portalPageBody {
        background-color: var(--background-color);
    }

    #portalPageBodyInner,
    .handle,
    #actions,
    .fl-widget-content,
    article.content,
    form {
        background-color: var(--background-color) !important;
    }

    #portlet-zimbra #message,
    #portlet-zimbra #mail,
    #portlet-zimbra #calendar,
    #portlet-zimbra #tasks,
    .breadcrumbs,
    .portal-subnav-link,
    #toolbar {
        background-color: var(--background-accent-color) !important;
    }

    #specialMenu a {
        color: black !important;
    }


    #specialMenu > li {
        filter: brightness(var(--non-hover-opacity));
    }

    #specialMenu > li:hover {
        filter: brightness(var(--hover-opacity));
    }

    img {
        filter: brightness(var(--non-hover-opacity));
    }

    img:hover {
        filter: brightness(var(--hover-opacity));
    }





    #portalEmergencyBlock .info h3,
    #portalEmergencyBlock .alert h3,
    #portalEmergencyBlock h3 {
        color: var(--text-color);
        background-color: var(--background-color) !important;
    }

    a,
    i,
    h2,
    h3,
    h4 {
        color: var(--accent-color) !important;
    }

    div {
        color: var(--text-color);
    }

    /* Bug dans FF, pas moyen de styliser les iFrames
    .animation_container {
        background-color: var(--background-color) !important;
    }
    */
}

@-moz-document domain("si-etudiants.imtbs-tsp.eu") {
    #loginBack {
        filter: brightness(15%);
    }

    a,
    i,
    h2,
    h3,
    h4 {
        color: var(--accent-color) !important;
    }

    #loginContainer {
        background-color: var(--background-accent-color) !important;
    }

    body,
    #PageForm {
        background-color: var(--background-color) !important;
    }
}

@-moz-document domain("www-inf.telecom-sudparis.eu") {
    body {
        background-color: var(--background-color) !important;
        color: var(--text-color);
    }

    .solution-content,
    .code {
        background-color: var(--background-accent-color) !important;
    }

    .header {
        background-color: var(--background-accent-color) !important;
        color: var(--text-color);
    }

    .header a {
        text-decoration: underline;
    }

    .footer {
        display: none
    }
}

@-moz-document domain("print.tem-tsp.eu") {
    html,
    body {
        background-image: none !important;
        background-color: var(--background-color) !important;
        color: var(--text-color) !important;
    }

    h1 {
        color: var(--text-color) !important;
    }
}
@-moz-document regexp("https://bbb.*.imtbs-tsp.eu/.*") {
    html, body, .chat--111wNM, .messageList--hsNac, .userNameMain--2fo2zM {
        background-image: none !important;
        background-color: var(--background-color);
        color: var(--text-color) !important;
    }
    
    #innerdocbody, .listItem--Siv4F, .active--Z1SuO2X, .chatNameMain--Z1S9hh4, .hideBtn--ZOkOfz, .note--Z1w6MNh {
        background-color: var(--background-accent-color);
        color: var(--text-color) !important;
    }
    
    .wrapper--Z20hQYP > div:nth-child(2) > span:nth-child(2) > div:nth-child(1) {
        background-color: var(--background-accent-color);
    }
    
    .svgContainer--Z1z3wO0 {
        filter: brightness(var(--non-hover-opacity));
    }

    .svgContainer--Z1z3wO0:hover {
        filter: brightness(var(--hover-opacity));
    }
    
    :root {
        --systemMessage-background-color: var(--background-accent-color);
        --unread-messages-bg: var(--color-danger);
        --user-list-text: var(--text-color);
        --color-background: var(--background-color);
        --user-list-bg: var(--background-color);
        --user-thumbnail-border: var(--color-gray-light);
        --user-thumbnail-text: var(--text-color);
        --voice-user-bg: var(--background-color);
        --voice-user-text: var(--text-color);
        --moderator-text: var(--text-color);
        --moderator-bg: var(--background-color);
        --sub-name-color: vvar(--text-color);
        --user-icons-color: var(--text-color);
        --list-item-bg-hover: #dce4ed;
        --item-focus-border: var(--color-blue-lighter);
    }
}
